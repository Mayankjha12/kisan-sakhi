{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\VISHU\\\\Desktop\\\\SIH\\\\kisan-sakhi\\\\src\\\\components\\\\ChatbotResult.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChatbotResult({\n  langData\n}) {\n  _s();\n  const [latestData, setLatestData] = useState(null);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  // --- SIMULATED ML & GEMINI RESPONSE DATA ---\n  const SIMULATED_PREDICTION = \"45.2\";\n  const SIMULATED_ADVICE = `Namaste, KrishiMitra mein aapka swagat hai!\n\nBased on our analysis of your inputs (Crop: ${latestData === null || latestData === void 0 ? void 0 : latestData.crop}, Problem: ${latestData === null || latestData === void 0 ? void 0 : latestData.problem}), \nwe have the following data-driven insights:\n\n1. ML Prediction: Estimated Yield is ${SIMULATED_PREDICTION} quintals/acre.\n2. Innovative Solution: Since you reported '${latestData === null || latestData === void 0 ? void 0 : latestData.problem}', we recommend implementing a targeted drip irrigation schedule with a 15% reduction in water usage, specifically during the ${latestData === null || latestData === void 0 ? void 0 : latestData.cropStage} stage, to boost resource efficiency and maintain the forecasted yield.\n\nAapke anya sawalon ke liye, main yahan hoon.`;\n  // --- END SIMULATED DATA ---\n\n  // Load the latest data from Local Storage\n  useEffect(() => {\n    const storedData = JSON.parse(localStorage.getItem('krishiSakhiData'));\n    if (storedData && storedData.length > 0) {\n      setLatestData(storedData[storedData.length - 1]);\n    }\n  }, []);\n  const messages = [{\n    sender: 'ai',\n    text: SIMULATED_ADVICE\n  }\n  // Future messages from user interaction would be added here\n  ];\n  const handleSend = e => {\n    e.preventDefault();\n    if (!input.trim() || isLoading) return;\n\n    // This simulates sending the follow-up question to the Gemini API\n    setIsLoading(true);\n    console.log(\"Sending query to Gemini API (Simulated):\", input);\n\n    // In a real app, you would fetch data here. We simulate the delay.\n    setTimeout(() => {\n      setIsLoading(false);\n      alert(`Query Sent: \"${input}\". The real Gemini API would respond now.`);\n      setInput('');\n    }, 2000);\n  };\n  if (!latestData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center text-lg text-gray-500 py-20\",\n      children: \"Loading results...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center py-12 px-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-4xl bg-white shadow-2xl rounded-xl overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 bg-green-700 text-white font-poppins font-bold text-xl text-center\",\n        children: \"KrishiSakhi AI Assistant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-window h-[60vh] overflow-y-auto p-4 space-y-4 bg-gray-50\",\n        children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-start\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-w-md p-3 rounded-xl shadow-sm bg-green-100 text-gray-800 border border-green-200 whitespace-pre-wrap\",\n            children: msg.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-start\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-100 text-gray-800 p-3 rounded-xl shadow-md\",\n            children: \"KrishiSakhi is typing...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSend,\n        className: \"p-4 bg-white border-t border-gray-200 flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: input,\n          onChange: e => setInput(e.target.value),\n          className: \"flex-grow p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none\",\n          rows: \"1\",\n          placeholder: \"Type your question here, or use the microphone (simulated)...\",\n          disabled: isLoading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: `px-4 py-2 text-white font-bold rounded-lg transition duration-300 ${isLoading ? 'bg-gray-400 cursor-not-allowed' : 'bg-green-600 hover:bg-green-700'}`,\n          disabled: isLoading,\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition duration-300\",\n          disabled: isLoading,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-microphone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 26\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n_s(ChatbotResult, \"BgbIb+0m0FEHD8Y8zCYETfg72ho=\");\n_c = ChatbotResult;\nexport default ChatbotResult;\nvar _c;\n$RefreshReg$(_c, \"ChatbotResult\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","ChatbotResult","langData","_s","latestData","setLatestData","input","setInput","isLoading","setIsLoading","SIMULATED_PREDICTION","SIMULATED_ADVICE","crop","problem","cropStage","storedData","JSON","parse","localStorage","getItem","length","messages","sender","text","handleSend","e","preventDefault","trim","console","log","setTimeout","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","msg","index","onSubmit","value","onChange","target","rows","placeholder","disabled","type","_c","$RefreshReg$"],"sources":["C:/Users/VISHU/Desktop/SIH/kisan-sakhi/src/components/ChatbotResult.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nfunction ChatbotResult({ langData }) {\r\n    const [latestData, setLatestData] = useState(null);\r\n    const [input, setInput] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    \r\n    // --- SIMULATED ML & GEMINI RESPONSE DATA ---\r\n    const SIMULATED_PREDICTION = \"45.2\"; \r\n    const SIMULATED_ADVICE = \r\n        `Namaste, KrishiMitra mein aapka swagat hai!\r\n\r\nBased on our analysis of your inputs (Crop: ${latestData?.crop}, Problem: ${latestData?.problem}), \r\nwe have the following data-driven insights:\r\n\r\n1. ML Prediction: Estimated Yield is ${SIMULATED_PREDICTION} quintals/acre.\r\n2. Innovative Solution: Since you reported '${latestData?.problem}', we recommend implementing a targeted drip irrigation schedule with a 15% reduction in water usage, specifically during the ${latestData?.cropStage} stage, to boost resource efficiency and maintain the forecasted yield.\r\n\r\nAapke anya sawalon ke liye, main yahan hoon.`;\r\n    // --- END SIMULATED DATA ---\r\n\r\n    // Load the latest data from Local Storage\r\n    useEffect(() => {\r\n        const storedData = JSON.parse(localStorage.getItem('krishiSakhiData'));\r\n        if (storedData && storedData.length > 0) {\r\n            setLatestData(storedData[storedData.length - 1]);\r\n        }\r\n    }, []);\r\n\r\n    const messages = [\r\n        { sender: 'ai', text: SIMULATED_ADVICE }\r\n        // Future messages from user interaction would be added here\r\n    ];\r\n\r\n    const handleSend = (e) => {\r\n        e.preventDefault();\r\n        if (!input.trim() || isLoading) return;\r\n        \r\n        // This simulates sending the follow-up question to the Gemini API\r\n        setIsLoading(true);\r\n        console.log(\"Sending query to Gemini API (Simulated):\", input);\r\n        \r\n        // In a real app, you would fetch data here. We simulate the delay.\r\n        setTimeout(() => {\r\n            setIsLoading(false);\r\n            alert(`Query Sent: \"${input}\". The real Gemini API would respond now.`);\r\n            setInput('');\r\n        }, 2000);\r\n    };\r\n\r\n\r\n    if (!latestData) {\r\n        return <div className=\"text-center text-lg text-gray-500 py-20\">Loading results...</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex justify-center py-12 px-4\">\r\n            <div className=\"w-full max-w-4xl bg-white shadow-2xl rounded-xl overflow-hidden\">\r\n                \r\n                <div className=\"p-4 bg-green-700 text-white font-poppins font-bold text-xl text-center\">\r\n                    KrishiSakhi AI Assistant\r\n                </div>\r\n\r\n                <div className=\"chat-window h-[60vh] overflow-y-auto p-4 space-y-4 bg-gray-50\">\r\n                    {messages.map((msg, index) => (\r\n                        <div key={index} className=\"flex justify-start\">\r\n                            <div className=\"max-w-md p-3 rounded-xl shadow-sm bg-green-100 text-gray-800 border border-green-200 whitespace-pre-wrap\">\r\n                                {msg.text}\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                    {isLoading && (\r\n                         <div className=\"flex justify-start\">\r\n                            <div className=\"bg-green-100 text-gray-800 p-3 rounded-xl shadow-md\">\r\n                                KrishiSakhi is typing...\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Input Area (For follow-up questions) */}\r\n                <form onSubmit={handleSend} className=\"p-4 bg-white border-t border-gray-200 flex gap-2\">\r\n                    <textarea \r\n                        value={input}\r\n                        onChange={(e) => setInput(e.target.value)}\r\n                        className=\"flex-grow p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none\" \r\n                        rows=\"1\" \r\n                        placeholder=\"Type your question here, or use the microphone (simulated)...\"\r\n                        disabled={isLoading}\r\n                    />\r\n                    <button \r\n                        type=\"submit\" \r\n                        className={`px-4 py-2 text-white font-bold rounded-lg transition duration-300 ${isLoading ? 'bg-gray-400 cursor-not-allowed' : 'bg-green-600 hover:bg-green-700'}`}\r\n                        disabled={isLoading}\r\n                    >\r\n                        Send\r\n                    </button>\r\n                    {/* Voice Input Button Placeholder */}\r\n                     <button type=\"button\" className=\"px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition duration-300\" disabled={isLoading}>\r\n                         <i className=\"fa-solid fa-microphone\"></i>\r\n                     </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ChatbotResult;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}