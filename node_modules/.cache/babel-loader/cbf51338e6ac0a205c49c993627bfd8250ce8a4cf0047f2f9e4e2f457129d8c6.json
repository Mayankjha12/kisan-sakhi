{"ast":null,"code":"import React,{useState}from'react';import FormInputs from'./FormInputs';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FormSection=_ref=>{let{langData,currentLang,onLangChange}=_ref;const[formData,setFormData]=useState({});const[voiceOutput,setVoiceOutput]=useState('');const[isRecording,setIsRecording]=useState(false);// Voice Language Codes used for Speech Recognition (e.g., 'hi-IN')\nconst voiceLangCodes={'en':'en-IN','hi':'hi-IN','pa':'pa-IN','mr':'mr-IN','gu':'gu-IN','bn':'bn-IN','ta':'ta-IN','te':'te-IN','kn':'kn-IN','ml':'ml-IN','or':'or-IN','as':'as-IN','ur':'ur-IN','sd':'sd-IN','sa':'sa-IN','ks':'ks-IN','kok':'kok-IN','mai':'mai-IN','ne':'ne-IN'};// 1. Form Submission Logic (from form.js)\nconst handleSubmit=e=>{e.preventDefault();const imageFile=formData.image;if(imageFile){const reader=new FileReader();reader.onloadend=function(){console.log(\"Image data processed:\",reader.result.substring(0,50)+\"...\");};reader.readAsDataURL(imageFile);}console.log(\"Final Form Data:\",formData);alert(langData.submitBtn+\" successful! Check console for data.\");};// 2. Voice Input Logic (from form.js)\nconst startVoiceRecording=()=>{const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;if(!SpeechRecognition){setVoiceOutput(\"Speech Recognition not supported in this browser.\");return;}const recognition=new SpeechRecognition();const recognitionLang=voiceLangCodes[currentLang]||voiceLangCodes.en;recognition.lang=recognitionLang;recognition.interimResults=false;recognition.maxAlternatives=1;recognition.onstart=()=>{setIsRecording(true);setVoiceOutput(\"Listening...\");};recognition.onresult=event=>{const transcript=event.results[0][0].transcript;setVoiceOutput(transcript);};recognition.onerror=event=>{setIsRecording(false);setVoiceOutput(\"Error: \".concat(event.error,\". Please try again.\"));};recognition.onend=()=>{setIsRecording(false);};if(isRecording){recognition.stop();}else{recognition.start();}};return/*#__PURE__*/_jsx(\"section\",{id:\"form-section\",className:\"py-12 flex justify-center bg-gray-100 min-h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-6xl px-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center text-4xl font-bold text-green-600 mb-8 font-poppins\",children:langData.formHeading}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row gap-8 shadow-2xl rounded-2xl bg-white p-6 md:p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 p-6 rounded-xl border border-gray-200 flex flex-col items-center justify-center text-center max-w-full lg:max-w-md\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-microphone text-6xl text-green-500 mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-green-600 mb-1\",children:langData.voiceInputTitle}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-4\",children:langData.voiceInputSubtitle}),/*#__PURE__*/_jsx(\"select\",{id:\"voice-language\",className:\"p-2 border border-gray-300 rounded-lg w-full max-w-xs mb-4\",value:currentLang,onChange:e=>onLangChange(e.target.value),children:Object.keys(voiceLangCodes).map(lang=>/*#__PURE__*/_jsx(\"option\",{value:lang,children:lang.toUpperCase()},lang))}),/*#__PURE__*/_jsxs(\"button\",{id:\"voice-btn\",className:\"px-6 py-2 rounded-full font-bold text-white transition duration-300 w-full max-w-xs \".concat(isRecording?'bg-red-500 hover:bg-red-600':'bg-green-500 hover:bg-green-600'),onClick:startVoiceRecording,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid \".concat(isRecording?'fa-stop':'fa-microphone',\" mr-2\")}),isRecording?'Stop Recording':'Start Recording']}),/*#__PURE__*/_jsx(\"div\",{id:\"voice-output\",className:\"mt-4 p-3 bg-green-50 text-gray-700 rounded-lg min-h-12 w-full max-w-xs\",children:voiceOutput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 p-6 rounded-xl border border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"form-language\",className:\"font-semibold text-gray-700 text-sm\",children:\"Form Language:\"}),/*#__PURE__*/_jsx(\"select\",{id:\"form-language\",className:\"p-2 border border-gray-300 rounded-lg\",value:currentLang,onChange:e=>onLangChange(e.target.value),children:Object.keys(voiceLangCodes).map(lang=>/*#__PURE__*/_jsx(\"option\",{value:lang,children:lang.toUpperCase()},lang))})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-green-600 mb-6\",children:langData.formDetailsHeading}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,id:\"farm-form\",className:\"space-y-4\",children:[/*#__PURE__*/_jsx(FormInputs,{langData:langData,setFormData:setFormData}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full px-6 py-3 bg-green-500 text-white font-bold rounded-full hover:bg-green-600 transition duration-300 mt-6\",children:langData.submitBtn})]})]})]})]})});};export default FormSection;","map":{"version":3,"names":["React","useState","FormInputs","jsx","_jsx","jsxs","_jsxs","FormSection","_ref","langData","currentLang","onLangChange","formData","setFormData","voiceOutput","setVoiceOutput","isRecording","setIsRecording","voiceLangCodes","handleSubmit","e","preventDefault","imageFile","image","reader","FileReader","onloadend","console","log","result","substring","readAsDataURL","alert","submitBtn","startVoiceRecording","SpeechRecognition","window","webkitSpeechRecognition","recognition","recognitionLang","en","lang","interimResults","maxAlternatives","onstart","onresult","event","transcript","results","onerror","concat","error","onend","stop","start","id","className","children","formHeading","voiceInputTitle","voiceInputSubtitle","value","onChange","target","Object","keys","map","toUpperCase","onClick","htmlFor","formDetailsHeading","onSubmit","type"],"sources":["/Users/mayankjha/Desktop/agro-kheti-react/src/components/FormSection.js"],"sourcesContent":["import React, { useState } from 'react';\nimport FormInputs from './FormInputs';\n\nconst FormSection = ({ langData, currentLang, onLangChange }) => {\n    const [formData, setFormData] = useState({});\n    const [voiceOutput, setVoiceOutput] = useState('');\n    const [isRecording, setIsRecording] = useState(false);\n    \n    // Voice Language Codes used for Speech Recognition (e.g., 'hi-IN')\n    const voiceLangCodes = {\n        'en': 'en-IN', 'hi': 'hi-IN', 'pa': 'pa-IN', 'mr': 'mr-IN', 'gu': 'gu-IN', 'bn': 'bn-IN', 'ta': 'ta-IN', 'te': 'te-IN',\n        'kn': 'kn-IN', 'ml': 'ml-IN', 'or': 'or-IN', 'as': 'as-IN', 'ur': 'ur-IN', 'sd': 'sd-IN', 'sa': 'sa-IN', 'ks': 'ks-IN',\n        'kok': 'kok-IN', 'mai': 'mai-IN', 'ne': 'ne-IN'\n    };\n\n    // 1. Form Submission Logic (from form.js)\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        \n        const imageFile = formData.image;\n\n        if (imageFile) {\n            const reader = new FileReader();\n            reader.onloadend = function() {\n                console.log(\"Image data processed:\", reader.result.substring(0, 50) + \"...\");\n            };\n            reader.readAsDataURL(imageFile);\n        }\n\n        console.log(\"Final Form Data:\", formData);\n        alert(langData.submitBtn + \" successful! Check console for data.\");\n    };\n\n    // 2. Voice Input Logic (from form.js)\n    const startVoiceRecording = () => {\n        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n        if (!SpeechRecognition) {\n            setVoiceOutput(\"Speech Recognition not supported in this browser.\");\n            return;\n        }\n\n        const recognition = new SpeechRecognition();\n        const recognitionLang = voiceLangCodes[currentLang] || voiceLangCodes.en;\n        recognition.lang = recognitionLang;\n        recognition.interimResults = false;\n        recognition.maxAlternatives = 1;\n\n        recognition.onstart = () => {\n            setIsRecording(true);\n            setVoiceOutput(\"Listening...\");\n        };\n\n        recognition.onresult = (event) => {\n            const transcript = event.results[0][0].transcript;\n            setVoiceOutput(transcript);\n        };\n\n        recognition.onerror = (event) => {\n            setIsRecording(false);\n            setVoiceOutput(`Error: ${event.error}. Please try again.`);\n        };\n\n        recognition.onend = () => {\n            setIsRecording(false);\n        };\n\n        if (isRecording) {\n            recognition.stop();\n        } else {\n            recognition.start();\n        }\n    };\n    \n    return (\n        <section id=\"form-section\" className=\"py-12 flex justify-center bg-gray-100 min-h-screen\">\n            <div className=\"w-full max-w-6xl px-4\">\n                <h2 className=\"text-center text-4xl font-bold text-green-600 mb-8 font-poppins\">{langData.formHeading}</h2>\n                <div className=\"flex flex-col lg:flex-row gap-8 shadow-2xl rounded-2xl bg-white p-6 md:p-8\">\n                    \n                    {/* Left Panel: Voice Input */}\n                    <div className=\"flex-1 p-6 rounded-xl border border-gray-200 flex flex-col items-center justify-center text-center max-w-full lg:max-w-md\">\n                        <i className=\"fa-solid fa-microphone text-6xl text-green-500 mb-4\"></i>\n                        <h3 className=\"text-xl font-semibold text-green-600 mb-1\">{langData.voiceInputTitle}</h3>\n                        <p className=\"text-sm text-gray-500 mb-4\">{langData.voiceInputSubtitle}</p>\n                        \n                        <select \n                            id=\"voice-language\" \n                            className=\"p-2 border border-gray-300 rounded-lg w-full max-w-xs mb-4\"\n                            value={currentLang}\n                            onChange={(e) => onLangChange(e.target.value)}\n                        >\n                            {Object.keys(voiceLangCodes).map(lang => <option key={lang} value={lang}>{lang.toUpperCase()}</option>)}\n                        </select>\n                        \n                        <button \n                            id=\"voice-btn\"\n                            className={`px-6 py-2 rounded-full font-bold text-white transition duration-300 w-full max-w-xs ${isRecording ? 'bg-red-500 hover:bg-red-600' : 'bg-green-500 hover:bg-green-600'}`}\n                            onClick={startVoiceRecording}\n                        >\n                            <i className={`fa-solid ${isRecording ? 'fa-stop' : 'fa-microphone'} mr-2`}></i> \n                            {isRecording ? 'Stop Recording' : 'Start Recording'}\n                        </button>\n                        \n                        <div id=\"voice-output\" className=\"mt-4 p-3 bg-green-50 text-gray-700 rounded-lg min-h-12 w-full max-w-xs\">\n                            {voiceOutput}\n                        </div>\n                    </div>\n\n                    {/* Right Panel: Form Fields */}\n                    <div className=\"flex-1 p-6 rounded-xl border border-gray-200\">\n                        <div className=\"mb-4 flex items-center justify-between\">\n                            <label htmlFor=\"form-language\" className=\"font-semibold text-gray-700 text-sm\">Form Language:</label>\n                            <select \n                                id=\"form-language\" \n                                className=\"p-2 border border-gray-300 rounded-lg\"\n                                value={currentLang}\n                                onChange={(e) => onLangChange(e.target.value)}\n                            >\n                                {Object.keys(voiceLangCodes).map(lang => <option key={lang} value={lang}>{lang.toUpperCase()}</option>)}\n                            </select>\n                        </div>\n                        \n                        <h3 className=\"text-xl font-semibold text-green-600 mb-6\">{langData.formDetailsHeading}</h3>\n                        \n                        <form onSubmit={handleSubmit} id=\"farm-form\" className=\"space-y-4\">\n                            <FormInputs langData={langData} setFormData={setFormData} />\n\n                            <button \n                                type=\"submit\" \n                                className=\"w-full px-6 py-3 bg-green-500 text-white font-bold rounded-full hover:bg-green-600 transition duration-300 mt-6\"\n                            >\n                                {langData.submitBtn}\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </section>\n    );\n}\n\nexport default FormSection;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}